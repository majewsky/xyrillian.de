<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Xyrillian Thoughts</title>
  <link rel="alternate" type="application/rss+xml" href="/rss.xml">
  <meta property="og:title" content="Xyrillian Thoughts" /><meta property="og:type" content="website" /><meta property="og:url" content="/thoughts/" />
</head>
<body class="thoughts has-nav-top-card">
  <div class="scroll-indicator"></div>
  <nav class="top-card">
    <div>
      <a href="/thoughts/">
        <img class="sitelogo" src="/res/logo-thoughts.svg" alt="Xyrillian Thoughts: Personal blog">
      </a>
      <span>
        <a class="iconlink" href="/thoughts/sitemap.html"><i class="icon large sitemap" title="Sitemap"></i></a>
        <a class="iconlink" href="/thoughts/rss.xml"><i class="icon large rss-square" title="RSS feed"></i></a>
        <a class="iconlink" href="https://github.com/majewsky/xyrillian.de"><i class="icon large bug" title="Report a bug"></i></a>
      </span>
    </div>
  </nav>
  <article><h1><a href="/thoughts/posts/latency-matters-aftermath.html" title="Permalink">[l]</a> Does the HN crowd show up in monitoring?</h1>
<p>So <a href="latency-matters.html">my previous post</a> made <a href="https://news.ycombinator.com/item?id=15059795">the frontpage on Hacker News</a>.
Awesome! I have seen many websites collapse under the load of a HN crowd, so this is the perfect time to look at the monitoring.</p>
<p><img src="/thoughts/img/munin1.png" alt="Munin charts"></p>
<p>1 megabit per second? That’s lower than I anticipated, even with all the size optimizations that I implemented (or let’s
just say, all the bloat that I purposefully did not add). Same goes for CPU usage: I’ve heard so many people on the
internet complain about how expensive TLS handshakes are, yet my virtual server handles all of this with less than six
percent of a single core. It’s barely even visible on the CPU usage chart, and completely drowned out by noise on the
load chart.</p>
</article><article><h1><a href="/thoughts/posts/latency-matters.html" title="Permalink">[l]</a> Latency matters</h1>
<p>A month ago, danluu wrote about <a href="https://danluu.com/term-latency/">terminal and shell performance</a>. In that post, he
measured the latency between a key being pressed and the corresponding character appearing in the terminal. Across
terminals, median latencies ranged between 5 and 45 milliseconds, with the 99.9th percentile going as high as 110 ms for
some terminals. Now I can see that more than 100 milliseconds is going to be noticeable, but I was certainly left
wondering: Can I really perceive a difference between 5 ms latency and 45 ms latency?</p>
<p>Turns out that I can.</p>
<p class="more"><a href="/thoughts/posts/latency-matters.html">Read more...</a></p></article><article><h1><a href="/thoughts/posts/how-i-run-certbot.html" title="Permalink">[l]</a> How I run Certbot (as non-root and automated)</h1>
<p>I have previously noted that I get all my TLS certificates from <a href="https://letsencrypt.org">Let’s Encrypt</a>, but since my usage of the client
deviates quite a bit from the standard, I figured I should take a few minutes to describe my setup.</p>
<p class="more"><a href="/thoughts/posts/how-i-run-certbot.html">Read more...</a></p></article><article><h1><a href="/thoughts/posts/argh-pm.html" title="Permalink">[l]</a> Argh-P-M! – Dissecting the RPM file format</h1>
<p>As the first actual content on my new blog, let me tell you the story of how I went absolutely crazy.</p>
<p>On my private systems, I ship configuration as system packages. Every distribution has their own tooling and process for
building these packages, but I eventually grew tired of the ceremony involved in it, and wrote <a href="https://github.com/holocm/holo-build">my own system package
compiler</a>. Since I’m using Arch Linux everywhere, the first version generated only Pacman packages, but I
was determined to make it truly cross-distribution. The first step was support for Debian packages, which I implemented
in a mere two evenings (one for understanding the format, one for writing the generator).</p>
<p>Next to dpkg, the other widely deployed package format is RPM, so I set out to add support for RPM as well. If I could
write the Debian generator in two days, then surely RPM support wouldn’t take that long, either. Little did I know that
I was embarking on a multi-month endeavor (including multiple week-long breaks to restore my sanity). To add insult to
injury, I stubbornly refused to add dependencies and use existing tooling (i.e., the <code>rpm-build(1)</code> command). I wanted
to serialize the format directly from my own code, like I did for Pacman and Debian packages.</p>
<p class="more"><a href="/thoughts/posts/argh-pm.html">Read more...</a></p></article>
  <aside class="bio-with-avatar">
    <div>
      <p>I'm <strong>Stefan Majewsky</strong> aka <strong>Xyrill</strong>. At work, I take pride in replacing complex distributed systems by very small shell scripts. After work, I complain about the weather, politics, crappy devices, and literally everything else. I'm also on <a href="https://digitalcourage.social/@xyrill">Mastodon</a> and on <a href="https://github.com/majewsky">GitHub</a>.
      </p>
      <p class="legal">Opinions expressed here are my own. Content is available under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> license unless otherwise noted.</p>
    </div>
    <img src="/res/avatar.jpg" alt="My face">
  </aside>
  <footer class="legal">
    <a href="/legal/en/">Imprint</a>
  </footer>
  <link rel="stylesheet" href="/res/xyrillian.css" />
  <script async src="/res/scroll-indicator.js"></script>
</body>
</html>
