<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Netzwerk-Schichtenmodell - Xyrillian Noises</title>
  <link rel="stylesheet" href="/res/xyrillian.css" />
</head>
<body class="noises episode-stp has-nav-top-card">
  <nav class="top-card">
    <div>
      <a href="/noises/">
        <img class="sitelogo" src="/res/logo-noises.svg" alt="Xyrillian Noises Hörfunkproduktion">
      </a>
    </div>
  </nav>
  <header>
    <a class="coverart" href="/noises/stp/">
      <img src="/res/cover-stp.svg" alt="Cover-Art für: Schlüsseltechnologie">
    </a>
    <h2><a href="/noises/stp">Schlüsseltechnologie</a> #5 vom 22. Juli 2021</h2>
    <h1>Netzwerk-Schichtenmodell</h1>
      <p>Wie in Folge 0 bereits erwähnt, tun wir viele Dinge mit Computern. Genauer tun wir sie in oder mit dem Internet.
Damit das funktionert ist es nötig vielerlei Protokolle übereinander zu stapeln. Wir präsentieren -- den Network Stack.</p>
      <p><strong>Länge:</strong> 81:46 Minuten</p>
  </header>
    <audio controls preload="none">
        <source src="/dl/stp-005-netzwerk-schichtenmodell.mp3" type="audio/mpeg">
        <source src="/dl/stp-005-netzwerk-schichtenmodell.ogg" type="audio/ogg">
        <source src="/dl/stp-005-netzwerk-schichtenmodell.opus" type="audio/opus">
      <div class="audio-not-supported">
        <span>Webplayer nicht vom Browser unterstützt</span>
      </div>
    </audio>
    <div id="chapters">
      <div class="chapter" data-start="0" data-end="18.17">
        <div class="chapter-progress"><div class="chapter-progress-filler">&nbsp;</div></div>
        <span class="chapter-start" title="Zur Kapitelmarke springen">00:00</span>
        <span class="chapter-title">Richtigstellung vorab</span>
      </div>
      <div class="chapter" data-start="18.17" data-end="165.014">
        <div class="chapter-progress"><div class="chapter-progress-filler">&nbsp;</div></div>
        <span class="chapter-start" title="Zur Kapitelmarke springen">00:18</span>
        <span class="chapter-title">Intro und Hallo</span>
      </div>
      <div class="chapter" data-start="165.014" data-end="298.986">
        <div class="chapter-progress"><div class="chapter-progress-filler">&nbsp;</div></div>
        <span class="chapter-start" title="Zur Kapitelmarke springen">02:45</span>
        <span class="chapter-title">Vorbemerkung zur Natur der Daten</span>
      </div>
      <div class="chapter" data-start="298.986" data-end="382.437">
        <div class="chapter-progress"><div class="chapter-progress-filler">&nbsp;</div></div>
        <span class="chapter-start" title="Zur Kapitelmarke springen">04:58</span>
        <span class="chapter-title">Recap: Protokolle</span>
      </div>
      <div class="chapter" data-start="382.437" data-end="876.51">
        <div class="chapter-progress"><div class="chapter-progress-filler">&nbsp;</div></div>
        <span class="chapter-start" title="Zur Kapitelmarke springen">06:22</span>
        <span class="chapter-title">Warum ein ganzer Stapel Protokolle? Ein Erklärungsversuch</span>
      </div>
      <div class="chapter" data-start="876.51" data-end="1009.975">
        <div class="chapter-progress"><div class="chapter-progress-filler">&nbsp;</div></div>
        <span class="chapter-start" title="Zur Kapitelmarke springen">14:36</span>
        <span class="chapter-title">Schicht 1: Bitübertragungsschicht (Physical Layer)</span>
      </div>
      <div class="chapter" data-start="1009.975" data-end="1172.807">
        <div class="chapter-progress"><div class="chapter-progress-filler">&nbsp;</div></div>
        <span class="chapter-start" title="Zur Kapitelmarke springen">16:49</span>
        <span class="chapter-title">Fantastische Technologie und nasser Faden</span>
      </div>
      <div class="chapter" data-start="1172.807" data-end="1378.945">
        <div class="chapter-progress"><div class="chapter-progress-filler">&nbsp;</div></div>
        <span class="chapter-start" title="Zur Kapitelmarke springen">19:32</span>
        <span class="chapter-title">Einschub: Protokolle und Sprache</span>
      </div>
      <div class="chapter" data-start="1378.945" data-end="1653.567">
        <div class="chapter-progress"><div class="chapter-progress-filler">&nbsp;</div></div>
        <span class="chapter-start" title="Zur Kapitelmarke springen">22:58</span>
        <span class="chapter-title">Warum Layer 2?</span>
      </div>
      <div class="chapter" data-start="1653.567" data-end="2283.619">
        <div class="chapter-progress"><div class="chapter-progress-filler">&nbsp;</div></div>
        <span class="chapter-start" title="Zur Kapitelmarke springen">27:33</span>
        <span class="chapter-title">Schicht 2: Sicherungsschicht (Data Layer)</span>
      </div>
      <div class="chapter" data-start="2283.619" data-end="2460.079">
        <div class="chapter-progress"><div class="chapter-progress-filler">&nbsp;</div></div>
        <span class="chapter-start" title="Zur Kapitelmarke springen">38:03</span>
        <span class="chapter-title">Schicht 3: Vermittlungsschicht (Network Layer)</span>
      </div>
      <div class="chapter" data-start="2460.079" data-end="3191.564">
        <div class="chapter-progress"><div class="chapter-progress-filler">&nbsp;</div></div>
        <span class="chapter-start" title="Zur Kapitelmarke springen">41:00</span>
        <span class="chapter-title">IP: Das Internetprotokoll</span>
      </div>
      <div class="chapter" data-start="3191.564" data-end="3506.524">
        <div class="chapter-progress"><div class="chapter-progress-filler">&nbsp;</div></div>
        <span class="chapter-start" title="Zur Kapitelmarke springen">53:11</span>
        <span class="chapter-title">ICMP (Internet Control Message Protocol)</span>
      </div>
      <div class="chapter" data-start="3506.524" data-end="3658.519">
        <div class="chapter-progress"><div class="chapter-progress-filler">&nbsp;</div></div>
        <span class="chapter-start" title="Zur Kapitelmarke springen">58:26</span>
        <span class="chapter-title">NAT (Network Address Translation)</span>
      </div>
      <div class="chapter" data-start="3658.519" data-end="3775.959">
        <div class="chapter-progress"><div class="chapter-progress-filler">&nbsp;</div></div>
        <span class="chapter-start" title="Zur Kapitelmarke springen">60:58</span>
        <span class="chapter-title">Schicht 4: Transportschicht (Transport Layer)</span>
      </div>
      <div class="chapter" data-start="3775.959" data-end="4034.543">
        <div class="chapter-progress"><div class="chapter-progress-filler">&nbsp;</div></div>
        <span class="chapter-start" title="Zur Kapitelmarke springen">62:55</span>
        <span class="chapter-title">Ports und Portnummern</span>
      </div>
      <div class="chapter" data-start="4034.543" data-end="4335.534">
        <div class="chapter-progress"><div class="chapter-progress-filler">&nbsp;</div></div>
        <span class="chapter-start" title="Zur Kapitelmarke springen">67:14</span>
        <span class="chapter-title">TCP (Transmission Control Protocol)</span>
      </div>
      <div class="chapter" data-start="4335.534" data-end="4575.513">
        <div class="chapter-progress"><div class="chapter-progress-filler">&nbsp;</div></div>
        <span class="chapter-start" title="Zur Kapitelmarke springen">72:15</span>
        <span class="chapter-title">UDP (User Datagram Protocol)</span>
      </div>
      <div class="chapter" data-start="4575.513" data-end="4690.8">
        <div class="chapter-progress"><div class="chapter-progress-filler">&nbsp;</div></div>
        <span class="chapter-start" title="Zur Kapitelmarke springen">76:15</span>
        <span class="chapter-title">Schicht 5-7: Anwendungsschicht (Application Layer)</span>
      </div>
      <div class="chapter" data-start="4690.8" data-end="4812.868">
        <div class="chapter-progress"><div class="chapter-progress-filler">&nbsp;</div></div>
        <span class="chapter-start" title="Zur Kapitelmarke springen">78:10</span>
        <span class="chapter-title">Grenzen des Schichtenmodells</span>
      </div>
      <div class="chapter" data-start="4812.868" data-end="4906.341">
        <div class="chapter-progress"><div class="chapter-progress-filler">&nbsp;</div></div>
        <span class="chapter-start" title="Zur Kapitelmarke springen">80:12</span>
        <span class="chapter-title">Layer 8 und 9</span>
      </div>
    </div>
    <section>
      <h3>Download</h3>
      <ul>
          <li><a href="/dl/stp-005-netzwerk-schichtenmodell.mp3">MP3</a> (37,7 MiB)</li>
          <li><a href="/dl/stp-005-netzwerk-schichtenmodell.ogg">Ogg Vorbis</a> (47,2 MiB)</li>
          <li><a href="/dl/stp-005-netzwerk-schichtenmodell.opus">Opus</a> (27,2 MiB)</li>
      </ul>
    </section>
    <section>
      <h3>Shownotes</h3>
      <p><ul>
<li>
<p>Vorbemerkung: Daten im Computer bzw. im Computernetzwerk sind immer nur Zahlen</p>
<ul>
<li>Wenn wir Texte haben, haben wir tatsächlich Zahlenfolgen, von denen jede Zahl für einen Buchstaben steht.</li>
<li>Wenn wir Bilder haben, haben wir tatsächlich Zahlenfolgen, von denen jede Zahl für den Farbwert eines Bildpunktes steht.</li>
<li>etc.</li>
</ul>
</li>
<li>
<p>Rückerinnerung zu STP002: Protokolle</p>
<ul>
<li>Wikipedia: &quot;Ein Kommunikationsprotokoll ist eine Vereinbarung, nach der die Datenübertragung zwischen zwei oder mehreren Parteien abläuft. In seiner einfachsten Form kann ein Protokoll definiert werden als eine Menge von Regeln, die Syntax, Semantik und Synchronisation der Kommunikation bestimmen.&quot;</li>
<li>Beispiel aus dem normalen Leben: Interaktion zwischen Kunde und Verkäufer</li>
</ul>
</li>
<li>
<p>Computer-Netzwerke brauchen einen ganzen Stapel von Protokollen, die aufeinander aufbauen</p>
<ul>
<li>Problemlösung auf verschiedenen Ebenen: physikalische Signalübertragung, Suche von Verbindungspfaden, Fehlerkorrektur, finale Anwendung</li>
<li>Nachrichten einer höheren Schicht werden in Nachrichten der nächsttieferen Schicht eingewickelt
<ul>
<li>metaphorisches Beispiel: verpacktes Geschenk in Postpaket in Postwertsack in Cargo-Flugzeug</li>
</ul>
</li>
<li>Austauschbarkeit einzelner Teile des Stapels: z.B. höhere Protokollebenen hängen (fast) nicht davon ab, ob die Übertragung mittels Ethernet oder DSL oder WLAN oder LTE etc. läuft
<ul>
<li>innerhalb der Metapher: Paket kann sowohl über Luftpost als auch per Schiff zugestellt werden</li>
</ul>
</li>
<li>Lehrmodell: <a href="https://de.wikipedia.org/wiki/OSI-Modell">OSI-Modell</a> (Open Systems Interconnection) mit 7 Schichten; <a href="https://computer.rip/2021-03-27-the-actual-osi-model.html">entspricht aber nicht ganz der Realität</a></li>
</ul>
</li>
<li>
<p>Schicht 1: Bitübertragungsschicht (&quot;Physical Layer&quot;)</p>
<ul>
<li>bei kabelgebundenen Wegen Spezifikation der Kabel (Aderanzahl, Materialien, Schirmung, etc.) und Stecker</li>
<li>bei kabellosen Wegen Spezifikation des Frequenzspektrums etc.</li>
<li>auf dieser Ebene im Allgemeinen nur Folgen von Bits (Nullen und Einsen)</li>
<li>Problem: echte Welt ist fehlerbehaftet (Störsignale)</li>
</ul>
</li>
<li>
<p>Schicht 2: Sicherungsschicht (&quot;Data Layer&quot;)</p>
<ul>
<li>Realisierung einer fehlerfreien Übertragung zwischen direkt miteinander verbundenen Geräten</li>
<li>Bitfolgen werden zu <em>Frames</em> zusammengefasst und mit Prüfsummen versehen
<ul>
<li>zu Prüfsummen siehe STP004</li>
</ul>
</li>
<li>MTU: <em>Maximum Transfer Unit</em> (maximale Nutzlast in einem Frame)</li>
<li>manchmal enthalten: Protokolle zum Neustarten fehlgeschlagener Übertragungen (z.B. WLAN), ansonsten nur Verwerfen kaputter Frames (z.B. Ethernet)</li>
<li>hier meist hohe Komplexität aufgrund strenger Anforderungen an Verarbeitungsgeschwindigkeit</li>
</ul>
</li>
<li>
<p>Schicht 3: Vermittlungsschicht (&quot;Network Layer&quot;)</p>
<ul>
<li>Schicht 1 und 2 war nur für Geräte, die direkt miteinander verbunden sind (bzw. maximal durch Switches und Repeater verbunden)</li>
<li>Schicht 3 verschaltet mehrere solche lokale Netzwerke miteinander</li>
<li><em>Router</em>: Computer, der mit mehreren Netzwerken verbunden ist und dazwischen vermittelt</li>
<li>Internet ist paketbasiert (wie die Post), nicht verbindungsbasiert (wie das Telefonnetz)</li>
<li>auf Schicht 3 große Einigkeit in den Protokollen, um Interoperabilität zu ermöglichen</li>
<li>IP (<em>Internet Protocol</em>)
<ul>
<li>Zuweisung global gültiger Adressen (&quot;IP-Adressen&quot;), z.B. <code>91.198.174.192</code> für IP-Version 4 oder <code>2620:0:862:ed1a::1</code> für IP-Version 6</li>
<li>IP-Pakete können über Netzwerkgrenzen hinweg an den Adressaten zugestellt werden; enthalten Rückadresse für Antwortpakete</li>
</ul>
</li>
<li>IP-Adressen nicht immer eindeutig auf einen Computer zugewiesen
<ul>
<li>eine global erreichbare Adresse für mehrere Computer, z.B. Anycast (vgl. Großkundenadressen bei der Post)</li>
<li>private Adressen für die Verwendung in lokalen Netzwerken (analog zu internen Adressen in der Hauspost einer einzelnen Firma)</li>
</ul>
</li>
<li>ICMP (<em>Internet Control Message Protocol</em>)
<ul>
<li>z.B. Ping, Pfad-MTU-Aushandlung, Anzeige von nicht verfügbaren Empfängern</li>
</ul>
</li>
<li>NAT (<em>Network Address Translation</em>)
<ul>
<li>Anwendungsfeld: ein ganzes lokales Netzwerk hat nur eine öffentliche IP-Adresse</li>
<li>Router übersetzt IP-Adressen beim Übergang aus dem lokalen Netzwerk oder ins lokale Netzwerk</li>
</ul>
</li>
<li>weitere Protokolle insb. für die dynamische Verschaltung von Netzwerken, z.B. BGP (<em>Border Gateway Protocol</em>)</li>
</ul>
</li>
<li>
<p>Schicht 4: Transportschicht (&quot;Transport Layer&quot;)</p>
<ul>
<li>Erweiterung von Schicht 3 um Sitzungsverwaltung und Fehlerkorrektur (analog zum Verhältnis von Schicht 2 zu Schicht 1)</li>
<li>Problem: IP-Adressen identifizieren nur Computer, nicht die Programme auf dem Computer</li>
<li>getrennte Sitzungen mittels <em>Ports</em>
<ul>
<li>Verbindung eindeutig identifizierbar durch die Verbindung aus Quelladresse, Quellport, Zieladresse und Zielport</li>
</ul>
</li>
<li>TCP (<em>Transmission Control Protocol</em>)
<ul>
<li>garantierte fehlerfreie Zustellung der Datenpakete jeder Verbindung in der jeweils richtigen Reihenfolge</li>
<li>z.B. für große Downloads und Uploads (HTTP)</li>
</ul>
</li>
<li>Fehlerkorrektur in TCP
<ul>
<li>verpflichtendes Bestätigen erfolgreicher Übertragungen</li>
<li>Sender hält Daten in einem Sendefenster vor, bis der Empfang von der Gegenseite bestätigt wurde; analog Empfangsfenster beim Empfänger</li>
<li>Überfüllungskontrolle: Sendefenstergröße wird angepasst, wenn die Fehlerrate zunimmt (weil jemand auf dem Weg Pakete verwerfen muss)</li>
<li>für den Benutzer sichtbar als &quot;TCP Slow Start&quot; (Downloads fangen meist erst mit geringer Geschwindigkeit an und werden dann schneller, sobald die optimale Sendefenstergröße gefunden wurde)</li>
</ul>
</li>
<li>UDP (<em>User Datagram Protocol</em>)
<ul>
<li>keine Fehlerkorrektur; im Prinzip nur IP + Ports</li>
<li>z.B. für Echtzeit-Anwendungen (Voice over IP), wo geringe Verzögerung wichtiger ist und der Verlust einzelner Pakete hingenommen werden kann</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Schicht 5-7: Anwendungsschicht (&quot;Application Layer&quot;)</p>
<ul>
<li>feinere Aufteilung nicht wirklich hilfreich, da die verschiedenen Aspekte zunehmend schwer voneinander zu trennen sind</li>
<li>Protokolle auf dieser Ebene: z.B. HTTP/HTTPS (Webseiten), SMTP/IMAP (E-Mail), DNS (Namensauflösung)</li>
</ul>
</li>
<li>
<p>Grenzen des Schichtenmodells</p>
<ul>
<li>tiefere Schichten können durch höhere Schichten abgebildet werden; Beispiel: VPN-Protokolle (<em>Virtual Private Network</em>; Protokolle der Schicht 7, das einen Datenkanal der Schicht 3 darstellt)</li>
<li>Schicht 8? Schicht 9?</li>
</ul>
</li>
<li>
<p>Zum Weiterhören</p>
<ul>
<li>der großartige Podcast <a href="https://requestforcomments.de/">Request for Comments</a> (dessen Produzentin natürlich Baecker und nicht Bauer heißt; ttimeless nimmt alle  Schuld auf sich)</li>
<li>hier der erwähnte <a href="https://requestforcomments.de/archives/254">RFC-Podcast über TCP</a></li>
<li>außerdem die angesprochene Episode vom <a href="https://cre.fm/">Chaosradio Express</a>: <a href="https://cre.fm/cre197-ipv6">CRE197 IPv6</a></li>
</ul>
</li>
<li>
<p>Lesestoff ;)</p>
<ul>
<li><a href="https://www.revk.uk/2017/12/its-official-adsl-works-over-wet-string.html">ADSL over wet string</a></li>
<li><a href="https://tools.ietf.org/html/rfc1925">Twelve Networking Truths</a></li>
</ul>
</li>
</ul></p>
    </section>
    <section>
      <h3>Audioquellen<span>&nbsp;in Abspielreihenfolge (soweit nicht gemeinfrei)</span></h3>
      <ul>
          <li><a href="https://freesound.org/people/MastersDisaster/sounds/218115/">MastersDisaster: &quot;Switch ON - Livingroom (Sample)&quot;</a></li>
          <li><a href="https://freesound.org/people/Garuda1982/sounds/538915/">Garuda1982: &quot;Switch on the fluorescent tube sound effect&quot;</a></li>
          <li><a href="https://www.youtube.com/watch?v=n8Yo-wD-QTo&amp;t=129s">Konrad Zuse: &quot;HR-Fernsehbericht von 1958&quot;</a></li>
          <li><a href="https://www.youtube.com/watch?v=jbrMBOF61e0&amp;t=9s">Donald Knuth: &quot;Lehrveranstaltung von 1981&quot;</a></li>
      </ul>
    </section>

  <footer class="legal">
    <a href="/legal/de/">Impressum/Datenschutz</a>
  </footer>
  <script async src="/res/chapter-marks.js"></script>
</body>
</html>
