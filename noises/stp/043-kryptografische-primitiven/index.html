<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Kryptografische Primiviten - Xyrillian Noises</title>
  <link rel="stylesheet" href="/res/xyrillian.css" />
</head>
<body class="noises episode-stp has-nav-top-card">
  <nav class="top-card">
    <div>
      <a href="/noises/">
        <img class="sitelogo" src="/res/logo-noises.svg" alt="Xyrillian Noises Hörfunkproduktion">
      </a>
    </div>
  </nav>
  <header>
    <a class="coverart" href="/noises/stp/">
      <img src="/res/cover-stp.svg" alt="Cover-Art für: Schlüsseltechnologie">
    </a>
    <h2><a href="/noises/stp">Schlüsseltechnologie</a> #43 vom 7. September 2023</h2>
    <h1>Kryptografische Primiviten</h1>
      <p>Im zweiten Teil unserer Reihe über Kryptografie besehen wir uns einzelne Klassen von Bausteinen, welche dann zu Verschlüsselungsprotokollen zusammengesetzt werden können.</p>
      <p><strong>Länge:</strong> 72:37 Minuten</p>
  </header>
    <audio controls preload="none">
        <source src="/dl/stp-043-kryptografische-primitiven.mp3" type="audio/mpeg">
        <source src="/dl/stp-043-kryptografische-primitiven.ogg" type="audio/ogg">
        <source src="/dl/stp-043-kryptografische-primitiven.opus" type="audio/opus">
      <div class="audio-not-supported">
        <span>Webplayer nicht vom Browser unterstützt</span>
      </div>
    </audio>
    <div id="chapters">
      <div class="chapter" data-start="0" data-end="83">
        <div class="chapter-progress"><div class="chapter-progress-filler">&nbsp;</div></div>
        <span class="chapter-start" title="Zur Kapitelmarke springen">00:00</span>
        <span class="chapter-title">Intro</span>
      </div>
      <div class="chapter" data-start="83" data-end="417">
        <div class="chapter-progress"><div class="chapter-progress-filler">&nbsp;</div></div>
        <span class="chapter-start" title="Zur Kapitelmarke springen">01:23</span>
        <span class="chapter-title">Vorbemerkung zu Primitiven</span>
      </div>
      <div class="chapter" data-start="417" data-end="648">
        <div class="chapter-progress"><div class="chapter-progress-filler">&nbsp;</div></div>
        <span class="chapter-start" title="Zur Kapitelmarke springen">06:57</span>
        <span class="chapter-title">Symmetrische Verschlüsselung</span>
      </div>
      <div class="chapter" data-start="648" data-end="1795">
        <div class="chapter-progress"><div class="chapter-progress-filler">&nbsp;</div></div>
        <span class="chapter-start" title="Zur Kapitelmarke springen">10:48</span>
        <span class="chapter-title">Problem 1: Wie verschlüsselt man mehr als einen Block?</span>
      </div>
      <div class="chapter" data-start="1795" data-end="1895">
        <div class="chapter-progress"><div class="chapter-progress-filler">&nbsp;</div></div>
        <span class="chapter-start" title="Zur Kapitelmarke springen">29:55</span>
        <span class="chapter-title">Problem 2: Wie einigt man sich auf einen Schlüssel?</span>
      </div>
      <div class="chapter" data-start="1895" data-end="2049">
        <div class="chapter-progress"><div class="chapter-progress-filler">&nbsp;</div></div>
        <span class="chapter-start" title="Zur Kapitelmarke springen">31:35</span>
        <span class="chapter-title">Abschweif zu bekannten Kryptografen</span>
      </div>
      <div class="chapter" data-start="2049" data-end="2495">
        <div class="chapter-progress"><div class="chapter-progress-filler">&nbsp;</div></div>
        <span class="chapter-start" title="Zur Kapitelmarke springen">34:09</span>
        <span class="chapter-title">Asymmetrische Verschlüsselung</span>
      </div>
      <div class="chapter" data-start="2495" data-end="2705">
        <div class="chapter-progress"><div class="chapter-progress-filler">&nbsp;</div></div>
        <span class="chapter-start" title="Zur Kapitelmarke springen">41:35</span>
        <span class="chapter-title">Erzeugung von Schlüsselpaaren</span>
      </div>
      <div class="chapter" data-start="2705" data-end="3022">
        <div class="chapter-progress"><div class="chapter-progress-filler">&nbsp;</div></div>
        <span class="chapter-start" title="Zur Kapitelmarke springen">45:05</span>
        <span class="chapter-title">Beispiel für Primfaktorzerlegung</span>
      </div>
      <div class="chapter" data-start="3022" data-end="3255">
        <div class="chapter-progress"><div class="chapter-progress-filler">&nbsp;</div></div>
        <span class="chapter-start" title="Zur Kapitelmarke springen">50:22</span>
        <span class="chapter-title">Das Problem mit dem Vertrauen</span>
      </div>
      <div class="chapter" data-start="3255" data-end="3467">
        <div class="chapter-progress"><div class="chapter-progress-filler">&nbsp;</div></div>
        <span class="chapter-start" title="Zur Kapitelmarke springen">54:15</span>
        <span class="chapter-title">Das Problem mit den Kosten</span>
      </div>
      <div class="chapter" data-start="3467" data-end="3787">
        <div class="chapter-progress"><div class="chapter-progress-filler">&nbsp;</div></div>
        <span class="chapter-start" title="Zur Kapitelmarke springen">57:47</span>
        <span class="chapter-title">Signaturen</span>
      </div>
      <div class="chapter" data-start="3787" data-end="4357.684">
        <div class="chapter-progress"><div class="chapter-progress-filler">&nbsp;</div></div>
        <span class="chapter-start" title="Zur Kapitelmarke springen">63:07</span>
        <span class="chapter-title">Geheimnisteilung</span>
      </div>
    </div>
    <section>
      <h3>Download</h3>
      <ul>
          <li><a href="/dl/stp-043-kryptografische-primitiven.mp3">MP3</a> (66,8 MiB)</li>
          <li><a href="/dl/stp-043-kryptografische-primitiven.ogg">Ogg Vorbis</a> (39,5 MiB)</li>
          <li><a href="/dl/stp-043-kryptografische-primitiven.opus">Opus</a> (24,5 MiB)</li>
      </ul>
    </section>
    <section>
      <h3>Shownotes</h3>
      <p><ul>
<li>
<p>Rückblick zu STP041</p>
<ul>
<li>Kryptografische Systeme dienen dem Erreichen der vier Schutzziele (Vertraulichkeit, Integrität, Authentizität, Verbindlichkeit)</li>
<li>Implementierung vollständiger Kryptosysteme braucht <strong>Primitiven</strong> (Grundbausteine)</li>
<li>heute: Vorstellung grundlegender Klassen von Primitiven</li>
</ul>
</li>
<li>
<p><a href="https://de.wikipedia.org/w/index.php?title=Symmetrisches_Kryptosystem&amp;oldid=197227672">Symmetrische Verschlüsselung</a></p>
<ul>
<li>Schritt 1: Klartext (Plaintext) + Schlüssel (Key) -&gt; Geheimtext (Ciphertext)</li>
<li>Schritt 2: Geheimtext + selber Schlüssel -&gt; Klartext</li>
<li>üblicherweise als <strong>Blockchiffre</strong> mit Beschränkung des Klartexts auf eine Blockgröße von z.B. 128 oder 256 Bits, übliche Schlüsselgrößen ähnlich groß</li>
<li>zwei Probleme:
<ol>
<li>Wie verschlüsselt man mehr als einen Block?</li>
<li>Wie einigt man sich auf einen gemeinsamen Schlüssel, ohne dass Beobachter den Schlüssel abgreifen können?</li>
</ol>
</li>
</ul>
</li>
<li>
<p>zu Problem 1: Erweiterung der Blockchiffre zu einem <strong>Stromchiffre</strong> mittels eines geeigneten <a href="https://de.wikipedia.org/w/index.php?title=Betriebsmodus_(Kryptographie)&amp;oldid=209978117">Betriebsmodus</a></p>
<ul>
<li>Datenstrom wird in einzelne Blöcke der gewünschten Größe zerteilt; Betriebsmodus beschreibt dann die Anwendung des Blockchiffre auf die Folge von Blöcken</li>
<li>einfachster Betriebsmodus ist ECB (Electronic Codebook): der Blockchiffre wird auf jeden Block komplett separat angewendet -&gt; <a href="https://en.wikipedia.org/w/index.php?title=Block_cipher_mode_of_operation&amp;oldid=1154901199#Electronic_codebook_(ECB)">offensichtliche Probleme (siehe Bild im verlinkten Abschnitt)</a></li>
<li>bei den meisten modernen Betriebsmodi werden meist Daten aus dem aktuellen Blockchiffre in den nächsten Block übertragen, um die Analyse des Geheimtextes zu erschweren -&gt; Problem: schwer parallelisierbar, Lesezugriff nur sequentiell</li>
<li>CTR-Betriebsmodus (Counter): jeder Block wird beim Verschlüsseln mit einem Zähler kombiniert, damit sich keine wiederkehrenden Muster wie bei ECB ergeben -&gt; Vorteil: wahlfreier Schreib- und Lesezugriff möglich (interessant für Festplattenverschlüsselung)</li>
<li>siehe unten: Beispiel für die Geschwindigkeit moderner Stromchiffern insb. mit Hardwareunterstützung</li>
</ul>
</li>
</ul>
<pre><code>$ cryptsetup benchmark
...
#     Algorithm |       Key |      Encryption |      Decryption
...
        aes-xts        512b      3547,4 MiB/s      3540,4 MiB/s
    serpent-xts        512b       742,7 MiB/s       729,4 MiB/s
    twofish-xts        512b       398,9 MiB/s       404,8 MiB/s
</code></pre>
<ul>
<li>
<p>zu Problem 2 (Einigung auf einen gemeinsamen Schlüssel) zwei Ansätze:</p>
<ol>
<li>Schlüsselaustausch-Protokolle wie <a href="https://media.ccc.de/v/ds21-122-schlsseltechnologie-live-das-diffie-hellman-protokoll">Diffie-Hellman</a></li>
<li>asymmetrische Verschlüsselung</li>
</ol>
</li>
<li>
<p><a href="https://de.wikipedia.org/w/index.php?title=Asymmetrisches_Kryptosystem&amp;oldid=232100921">Asymmetrische Verschlüsselung</a></p>
<ul>
<li>statt einem einzelnen Schlüssel ein <strong>Schlüsselpaar</strong>
<ul>
<li>wir haben keine gute Bildmetapher dazu; Xyrills Vorschlag: zwei Ratschen; eine dreht nur nach rechts und eine nur nach links</li>
</ul>
</li>
<li>Schritt 1: Klartext + <strong>öffentlicher Schlüssel</strong> -&gt; Geheimtext</li>
<li>Schritt 2: Geheimtext + <strong>privater Schlüssel</strong> -&gt; Klartext</li>
<li>Beispiel <a href="https://www.youtube.com/playlist?list=PL6_AeYXBHF0OWS1GxV6lfivdReSyKhv3l">RSA</a>:
<ul>
<li>Grundgeheimnis sind zwei sehr große Primzahlen (<code>p</code> und <code>q</code>, jeweils z.B. 500 Dezimalstellen)</li>
<li>aus dem Produkt dieser Primzahlen (<code>N = p * q</code>) werden zwei weitere Zahlen (<code>d</code> und <code>e</code>) mittels günstiger Rechenoperationen abgeleitet</li>
<li>dann ist der öffentliche Schlüssel das Zahlenpaar <code>d,N</code> und der private Schlüssel das Zahlenpaar <code>e,N</code></li>
<li>Ableitung des privaten aus dem öffentlichen Schlüssel erfordert Primzahlfaktorisierung von <code>N</code>, was extrem teuer ist (siehe Beispiel unten)</li>
</ul>
</li>
<li>Problem 1 teilweise gelöst: Empfänger muss nur seinen öffentlichen Schlüssel offenbaren, der kein Geheimnis enthält</li>
<li>Problem 2 ungelöst: auch asymmetrische Verschlüsselung arbeitet nur pro Block</li>
</ul>
</li>
</ul>
<pre><code>$ time factor 1350918345091284620469824069824602946802496824562049682046982406982406980
1350918345091284620469824069824602946802496824562049682046982406982406980: 2 2 3 5 7 193 941 5077 3488395463852632669275489205712092360621005476304268749586169
factor   1,92s user 0,00s system 99% cpu 1,926 total
$ time factor 1350918345091284620469824069824602946802496824562049682046982406982406981
1350918345091284620469824069824602946802496824562049682046982406982406981: 11 3931 5242879872157046321 5958863859256362497309559371496021100634736129421
factor   462,19s user 0,01s system 99% cpu 7:43,24 total
</code></pre>
<ul>
<li>
<p>neues Problem: asymmetrische Verfahren sind sehr viel rechenaufwändiger als symmetrische Verfahren -&gt; <strong>hybrides Kryptosystem</strong></p>
<ul>
<li>asymmetrische Verschlüsselung wird nur zum Austausch eines symmetrischen Schlüssels verwendet</li>
<li>Beispiel &quot;verschlüsselte E-Mail&quot;: Alice hat den öffentlichen Schlüssel <code>O</code>, Bob hat den privaten Schlüssel <code>P</code> dazu
<ul>
<li>Alice erstellt die Nachricht <code>N</code> im Klartext</li>
<li>Alice erzeugt einen zufälligen symmetrischen Schlüssel <code>S</code></li>
<li>Alice verschlüsselt <code>N</code> mit <code>S</code> und einem Stromchiffre zu <code>N'</code></li>
<li>Alice verschlüsselt <code>S</code> mit <code>O</code> zu <code>S'</code></li>
<li>Alice schickt <code>N'</code> und <code>S'</code> an Bob</li>
<li>Bob entschlüsselt <code>S'</code> mit <code>P</code> zu <code>S</code></li>
<li>Bob entschlüsselt <code>N'</code> mit <code>S</code> zu <code>N</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p>zweite Anwendung von asymmetrischer Kryptografie: <a href="https://de.wikipedia.org/w/index.php?title=Digitale_Signatur&amp;oldid=234047519">Signaturen</a></p>
<ul>
<li>Verschlüsselung: vorwärts mit dem öffentlichen Schlüssel, rückwärts mit dem privaten Schlüssel</li>
<li>bei Signierung umgekehrt: vorwärts mit dem privaten Schlüssel (Erzeugung), rückwärts mit dem öffentlichen Schlüssel (Überprüfung)</li>
<li>im Detail: erst Komprimierung der zu signierenden Daten auf eine feste Größe mittels einer Hashfunktion (siehe STP004), dann Verschlüsselung dieses Hash-Wertes mit dem privaten Schlüssel</li>
<li>Überprüfung: Berechnung des Hashes auf dieselbe Weise, Vergleich mit entschlüsselter Signatur</li>
</ul>
</li>
<li>
<p>noch eine Primitive zum Schluss: <a href="https://de.wikipedia.org/w/index.php?title=Secret-Sharing&amp;oldid=201132633">Geheimnisteilung</a></p>
<ul>
<li>Problem: Ein Geheimnis soll in N Teile so aufgeteilt werden, dass M beliebige Teile zum Entschlüsseln genutzt werden können.</li>
<li>Beispiel: Backup des Passwortspeichers in 5 Fragmente aufteilen und bei 5 Freunden so einlagern, dass man später nur 3 beliebige Fragmente zum Wiederherstellen braucht</li>
<li>Illustrationen: <a href="https://de.wikipedia.org/w/index.php?title=Visuelle_Kryptographie&amp;oldid=204692019">Visuelle Kryptografie</a>, <a href="https://en.wikipedia.org/w/index.php?title=Secret_sharing&amp;oldid=1152303869#Blakley's_scheme">Blakley-Schema</a></li>
</ul>
</li>
<li>
<p>im Gespräch erwähnt</p>
<ul>
<li><a href="https://anerzaehlt.net/aes-256/">Anerzählt Podcast zu AES</a></li>
<li><a href="https://www.youtube.com/watch?v=lt7uW6vDk00">Whitfield Diffie und Moxie Marlinspike und eine Flasche Whiskey auf der Bühne</a></li>
</ul>
</li>
</ul></p>
    </section>
    <section>
      <h3>Audioquellen<span>&nbsp;in Abspielreihenfolge (soweit nicht gemeinfrei)</span></h3>
      <ul>
          <li><a href="https://freesound.org/people/MastersDisaster/sounds/218115/">MastersDisaster: &quot;Switch ON - Livingroom (Sample)&quot;</a></li>
          <li><a href="https://freesound.org/people/Garuda1982/sounds/538915/">Garuda1982: &quot;Switch on the fluorescent tube sound effect&quot;</a></li>
          <li><a href="https://www.youtube.com/watch?v=n8Yo-wD-QTo&amp;t=129s">Konrad Zuse: &quot;HR-Fernsehbericht von 1958&quot;</a></li>
          <li><a href="https://www.youtube.com/watch?v=jbrMBOF61e0&amp;t=9s">Donald Knuth: &quot;Lehrveranstaltung von 1981&quot;</a></li>
      </ul>
    </section>

  <footer class="legal">
    <a href="/legal/de/">Impressum/Datenschutz</a>
  </footer>
  <script async src="/res/chapter-marks.js"></script>
</body>
</html>
