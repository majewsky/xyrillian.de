<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Fließkommazahlen - Xyrillian Noises</title>
  <link rel="stylesheet" href="/res/xyrillian.css" />
</head>
<body class="noises episode-stp has-nav-top-card">
  <nav class="top-card">
    <div>
      <a href="/noises/">
        <img class="sitelogo" src="/res/logo-noises.svg" alt="Xyrillian Noises Hörfunkproduktion">
      </a>
    </div>
  </nav>
  <header>
    <a class="coverart" href="/noises/stp/">
      <img src="/res/cover-stp.svg" alt="Cover-Art für: Schlüsseltechnologie">
    </a>
    <h2><a href="/noises/stp">Schlüsseltechnologie</a> #9 vom 14. Oktober 2021</h2>
    <h1>Fließkommazahlen</h1>
      <p>„Wir nehmen diese Ausrede Grafik, um in diesen Grundlagenfolgen Dinge zu erklären, die überhaupt nichts mit Grafik zu tun zu haben scheinen, aber dann machen wir den Bogen doch wieder zurück.“
Damit schafft Xyrill die passende Einleitung dieser dritten Folge unserer vierteiligen Reihe.</p>
      <p><strong>Länge:</strong> 49:33 Minuten</p>
  </header>
    <audio controls preload="none">
        <source src="/dl/stp-009-fliesskommazahlen.mp3" type="audio/mpeg">
        <source src="/dl/stp-009-fliesskommazahlen.ogg" type="audio/ogg">
        <source src="/dl/stp-009-fliesskommazahlen.opus" type="audio/opus">
      <div class="audio-not-supported">
        <span>Webplayer nicht vom Browser unterstützt</span>
      </div>
    </audio>
    <div id="chapters">
      <div class="chapter" data-start="0" data-end="139.028">
        <div class="chapter-progress"><div class="chapter-progress-filler">&nbsp;</div></div>
        <span class="chapter-start" title="Zur Kapitelmarke springen">00:00</span>
        <span class="chapter-title">Intro und Vorrede</span>
      </div>
      <div class="chapter" data-start="139.028" data-end="268.004">
        <div class="chapter-progress"><div class="chapter-progress-filler">&nbsp;</div></div>
        <span class="chapter-start" title="Zur Kapitelmarke springen">02:19</span>
        <span class="chapter-title">Festkommazahlen</span>
      </div>
      <div class="chapter" data-start="268.004" data-end="565.024">
        <div class="chapter-progress"><div class="chapter-progress-filler">&nbsp;</div></div>
        <span class="chapter-start" title="Zur Kapitelmarke springen">04:28</span>
        <span class="chapter-title">Wissenschaftliche Zahlennotation</span>
      </div>
      <div class="chapter" data-start="565.024" data-end="629.025">
        <div class="chapter-progress"><div class="chapter-progress-filler">&nbsp;</div></div>
        <span class="chapter-start" title="Zur Kapitelmarke springen">09:25</span>
        <span class="chapter-title">Bestandteile einer Fließkommazahl</span>
      </div>
      <div class="chapter" data-start="629.025" data-end="843.028">
        <div class="chapter-progress"><div class="chapter-progress-filler">&nbsp;</div></div>
        <span class="chapter-start" title="Zur Kapitelmarke springen">10:29</span>
        <span class="chapter-title">Rechnen mit Fließkommazahlen</span>
      </div>
      <div class="chapter" data-start="843.028" data-end="2068.029">
        <div class="chapter-progress"><div class="chapter-progress-filler">&nbsp;</div></div>
        <span class="chapter-start" title="Zur Kapitelmarke springen">14:03</span>
        <span class="chapter-title">Kodierung von Fließkommazahlen</span>
      </div>
      <div class="chapter" data-start="2068.029" data-end="2306.021">
        <div class="chapter-progress"><div class="chapter-progress-filler">&nbsp;</div></div>
        <span class="chapter-start" title="Zur Kapitelmarke springen">34:28</span>
        <span class="chapter-title">Implementation von Fließkommarechnungen</span>
      </div>
      <div class="chapter" data-start="2306.021" data-end="2600.999">
        <div class="chapter-progress"><div class="chapter-progress-filler">&nbsp;</div></div>
        <span class="chapter-start" title="Zur Kapitelmarke springen">38:26</span>
        <span class="chapter-title">Fallstricke bei Fließkommazahlen</span>
      </div>
      <div class="chapter" data-start="2600.999" data-end="2973.748">
        <div class="chapter-progress"><div class="chapter-progress-filler">&nbsp;</div></div>
        <span class="chapter-start" title="Zur Kapitelmarke springen">43:20</span>
        <span class="chapter-title">Anwendungsbereiche üblicher Fließkommaformate</span>
      </div>
    </div>
    <section>
      <h3>Download</h3>
      <ul>
          <li><a href="/dl/stp-009-fliesskommazahlen.mp3">MP3</a> (23,0 MiB)</li>
          <li><a href="/dl/stp-009-fliesskommazahlen.ogg">Ogg Vorbis</a> (29,8 MiB)</li>
          <li><a href="/dl/stp-009-fliesskommazahlen.opus">Opus</a> (17,1 MiB)</li>
      </ul>
    </section>
    <section>
      <h3>Shownotes</h3>
      <p><ul>
<li>
<p>Rückbezug zu STP001: Ganzzahlen</p>
<ul>
<li>z.B. 8-Bit-Zahlen: ohne Vorzeichen 0 bis 255 oder mit Vorzeichen -128 bis 127</li>
<li>Problem 1: Wie stellt man Zahlen mit Nachkommastellen dar?</li>
<li>Problem 2: Wie stellt man sehr große Zahlen effizient dar?</li>
<li>zwei Optionen: Festkommazahlen und Fließkommazahlen</li>
</ul>
</li>
<li>
<p><strong>Festkommazahlen</strong></p>
<ul>
<li>im Prinzip dasselbe wie Ganzzahlen, aber zählt in Schritten von 0,1 oder 0,01 etc.</li>
<li>Beispiel: Währungsrechnungen oft mit 4 Nachkommastellen (also auf 0,01 Eurocent genau)</li>
<li>gegenüber Fließkommazahlen: schneller und genauer, aber nicht so flexibel (löst nur Problem 1, nicht Problem 2)</li>
</ul>
</li>
<li>
<p><strong>Fließkommazahlen</strong></p>
<ul>
<li>grundsätzliche Idee: analog zur <a href="https://de.wikipedia.org/wiki/Wissenschaftliche_Notation">wissenschaftlichen Zahlennotation</a>
<ul>
<li>z.B. &quot;1,2 Milliarden&quot;: nicht als <code>1.200.000.000</code>, sondern <code>1,2 x 10^9</code></li>
<li>z.B. &quot;2 Hunderttausendstel&quot;: nicht als <code>0,000002</code>, sondern <code>2 x 10^-6</code></li>
</ul>
</li>
<li>Vorteil: unabhängig von der Größenordnung kann immer die gleiche Zahl an Ziffern dargestellt werden</li>
<li>in Computern natürlich nicht zur Basis 10, sondern zur Basis 2</li>
</ul>
</li>
<li>
<p>Bestandteile einer Fließkommazahl</p>
<ul>
<li><strong>Exponent</strong> (E): die Anzahl der Zweierpotenzen</li>
<li><strong>Mantisse</strong> (M): der Teil der Zahl, der nicht in der Potenz steht</li>
<li>insgesamt also <code>M * 2^E</code> für positive oder <code>-M * 2^E</code> für negative Zahlen</li>
</ul>
</li>
<li>
<p>Rechenoperationen ungefähr analog zum Rechenschieber</p>
<ul>
<li>z.B. Addition: erst die Exponenten angleichen, dann die Mantissen addieren, dann eventuell nochmal den Exponenten anpassen, damit die finale Darstellung wieder schön kompakt ist</li>
<li>hier kommt das Überlaufbit aus STP003 wieder ins Spiel</li>
</ul>
</li>
<li>
<p>Kodierung: fast immer gemäß <a href="https://de.wikipedia.org/wiki/IEEE_754">IEEE-754-Standard</a>
* <a href="https://de.wikipedia.org/wiki/Institute_of_Electrical_and_Electronics_Engineers">IEEE</a></p>
<ul>
<li>Problem: wir wollen uns nicht merken müssen, wo in der Mantisse das Komma steht</li>
<li>Trick: wir schieben das Komma so hin, dass die Mantisse mit <code>1,</code> anfängt, und speichern dann nur den Teil dahinter (<strong>normalisierte Zahlen</strong>)</li>
<li>Ausnahme: beim kleinsten Wert des Exponenten fängt die Mantisse mit <code>0,</code> an, damit wir auch die Zahl 0 und sehr kleine Zahlen nahe 0 darstellen können (<strong>subnormale Zahlen</strong>)</li>
<li>z.B. für 32 Bit: <a href="https://de.wikipedia.org/wiki/Einfache_Genauigkeit">einfache Genauigkeit</a> (&quot;Single Precision&quot;)
<ul>
<li>1 Bit Vorzeichen</li>
<li>8 Bit Exponent (Ganzzahl zwischen -127 und 128)</li>
<li>23 Bit Signifikand (Mantisse ohne das führende <code>1,</code> oder <code>0,</code>)</li>
</ul>
</li>
<li>Werte je nach Exponent:
<ul>
<li>Exponent = -127 -&gt; subnormale Zahlen</li>
<li>Exponent = 128 -&gt; spezielle Werte</li>
<li>ansonsten -&gt; normalisierte Zahlen</li>
</ul>
</li>
<li>im Exponent 128 werden einige spezielle Werte kodiert, die man braucht, damit jede Rechenoperation immer eine gültige Fließkommazahl erzeugt:
<ul>
<li><strong>plus Unendlich</strong>: z.B. <code>1 / 0 = +∞</code> oder <code>∞ + ∞ = ∞</code></li>
<li><strong>minus Unendlich</strong>: z.B. <code>-1 / 0 = -∞</code> oder <code>log2(0) = -∞</code></li>
<li><strong>keine Zahl</strong> (not a number, NaN): z.B. <code>∞ - ∞ = NaN</code> oder <code>0 / 0 = NaN</code> oder <code>log2(-1) = NaN</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p>Implementation von Fließkommarechnungen</p>
<ul>
<li>initial in Software auf Basis von Ganzzahlen</li>
<li>seit den 1980ern zunehmend in Hardware (seit den 1990ern auch in PCs)</li>
</ul>
</li>
<li>
<p>Fallstricke bei Fließkommarechnungen</p>
<ul>
<li>nicht alle kompakten Dezimalzahlen sind kompakte Binärzahlen: z.B. <code>0.3/0.2 = 1.4999999999999998</code></li>
<li>bei komplexen Berechnungen können sich kleine Rundungsfehler zu großen Fehlern aufschaukeln, siehe zum Beispiel <a href="https://en.wikipedia.org/wiki/Kahan_summation_algorithm">Kahan-Summenalgorithmus</a> (leider in Wikipedia nur auf englisch)</li>
</ul>
</li>
<li>
<p>Anwendungsbereiche üblicher Fließkommaformate</p>
<ul>
<li>doppelte Genauigkeit (64 Bit): für wissenschaftliche Berechnungen</li>
<li>einfache Genauigkeit (32 Bit): für 3D-Grafik (siehe nächste Folge)</li>
<li>halbe Genauigkeit (16 Bit), Viertelgenauigkeit (8 Bit): für Training von neuronalen Netzwerken</li>
</ul>
</li>
</ul></p>
    </section>
    <section>
      <h3>Audioquellen<span>&nbsp;in Abspielreihenfolge (soweit nicht gemeinfrei)</span></h3>
      <ul>
          <li><a href="https://freesound.org/people/MastersDisaster/sounds/218115/">MastersDisaster: &quot;Switch ON - Livingroom (Sample)&quot;</a></li>
          <li><a href="https://freesound.org/people/Garuda1982/sounds/538915/">Garuda1982: &quot;Switch on the fluorescent tube sound effect&quot;</a></li>
          <li><a href="https://www.youtube.com/watch?v=n8Yo-wD-QTo&amp;t=129s">Konrad Zuse: &quot;HR-Fernsehbericht von 1958&quot;</a></li>
          <li><a href="https://www.youtube.com/watch?v=jbrMBOF61e0&amp;t=9s">Donald Knuth: &quot;Lehrveranstaltung von 1981&quot;</a></li>
      </ul>
    </section>

  <footer class="legal">
    <a href="/legal/de/">Impressum/Datenschutz</a>
  </footer>
  <script async src="/res/chapter-marks.js"></script>
</body>
</html>
